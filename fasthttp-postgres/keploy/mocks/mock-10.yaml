version: api.keploy.io/v1beta2
kind: SQL
name: mock-10-0
spec:
    metadata:
        arguments: '[{ 1 1}]'
        name: SQL
        operation: QueryContext
        query: |-
            "SELECT b.id, b.title, b.year, b.author_id, a.first_name, a.last_name
            							FROM books b
            							LEFT JOIN authors a on b.author_id=a.id
            							WHERE b.id = $1;"
        type: SQL_DB
    type: error
    int: 0
    error:
        - nil
---
version: api.keploy.io/v1beta2
kind: SQL
name: mock-10-1
spec:
    metadata:
        name: SQL
        operation: QueryContext.Close
        type: SQL_DB
    type: table
    table:
        cols:
            - name: id
              type: int64
              precision: 0
              scale: 0
            - name: title
              type: string
              precision: 0
              scale: 0
            - name: year
              type: int64
              precision: 0
              scale: 0
            - name: author_id
              type: int64
              precision: 0
              scale: 0
            - name: first_name
              type: string
              precision: 0
              scale: 0
            - name: last_name
              type: string
              precision: 0
              scale: 0
        rows:
            - '[`1` | `Oliver Twist` | `1837` | `1` | `Charles` | `Dickens` | ]'
            - '[`1` | `Oliver Twist` | `1837` | `1` | `Charles` | `Dickens` | ]'
    int: 0
    error:
        - nil
        - EOF
        - nil
